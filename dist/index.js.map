{"version":3,"file":"index.js","sources":["../src/components/events.hook.ts","../src/components/styles.ts","../src/components/Arrow.tsx","../src/components/Dropdown.tsx"],"sourcesContent":["import { ReactElement, useRef, useState } from \"react\";\nimport { Option } from \"./types\";\n\nexport const useFocusEvent = () => {\n  const [isOpen, setIsOpen] = useState(false);\n  const focusRef = useRef(null);\n\n  const handleBlur = (event: React.FocusEvent<HTMLDivElement>) => {\n    let currentTarget = focusRef.current;\n    if (\n      currentTarget &&\n      !(currentTarget as HTMLDivElement)\n        .contains(event.relatedTarget as Node)\n    ) {\n      setIsOpen(false);\n    }\n  };\n\n  const handleFocus = () => {\n    setIsOpen(true)\n  }\n\n  const handleClose = () => {\n    setIsOpen(false);\n  }\n\n  return {\n    focusRef,\n    isOpen,\n    handleBlur,\n    handleFocus,\n    handleClose\n  }\n}\ninterface useSelectEventProps {\n  onChange?: (value: ReactElement, key: string) => void\n  handleClose: () => void\n  options: Option[]\n  defaultSelectedKey?: string\n}\n\nexport const useSelectEvent = ({ onChange, handleClose, options, defaultSelectedKey }: useSelectEventProps) => {\n  const defaultSelectedOption = options.find((option) => option.key === defaultSelectedKey)\n  const [selectedOption, setSelectedOption] = useState<ReactElement | string>(\n    defaultSelectedOption ?\n      defaultSelectedOption.label || defaultSelectedOption.value : ''\n  );\n\n  const handlePressOption = (key: string) => () => {\n    const candidateToSelectedOption = options.find((option) => option.key === key)\n    setSelectedOption((candidateToSelectedOption as Option).label);\n    onChange?.((candidateToSelectedOption as Option).value, key);\n    handleClose()\n  };\n\n  return {\n    selectedOption,\n    handlePressOption\n  }\n}\n","import { Placement } from \"./types\";\n\ninterface stylesProps {\n  listPlacement: Placement\n}\nexport const getStyles = ({ listPlacement }: stylesProps): Record<string, React.CSSProperties> => {\n  const listPosition = () => {\n    if (listPlacement === 'bottomLeft') {\n      return { left: 0 }\n    }\n\n    if (listPlacement === 'bottomCenter') {\n      return {\n        left: '50%',\n        transform: 'translate(-50%)'\n      }\n    }\n\n    if (listPlacement === 'bottomRight') {\n      return { right: 0 }\n    }\n  }\n\n  return ({\n    root: {\n      position: \"relative\",\n      width: 'fit-content'\n    },\n    trigger: {\n      backgroundColor: 'transparent',\n      border: 0,\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px'\n    },\n    listContainer: {\n      position: 'absolute',\n      top: '100%',\n      marginTop: '10px',\n      backgroundColor: '#fff',\n      border: '1px solid #ddd',\n      display: 'flex',\n      flexDirection: 'column',\n      ...listPosition()\n\n    },\n    listItem: {\n      cursor: 'pointer',\n      padding: '10px',\n      background: 'none',\n      border: 'none',\n      whiteSpace: 'nowrap',\n      textAlign: 'left'\n    }\n  })\n};\n","import React from 'react';\n\ninterface ArrowProps {\n  isOpen: boolean;\n  caretColor: string\n}\n\nexport const Arrow: React.FC<ArrowProps> = ({ isOpen, caretColor }) => {\n  const styles: Record<string, React.CSSProperties> = {\n    arrow: {\n      width: \"6px\",\n      height: \"6px\",\n      transform: isOpen ? \"rotate(135deg)\" : \"rotate(315deg)\",\n      borderBottom: `1px solid ${caretColor}`,\n      borderLeft: `1px solid ${caretColor}`,\n      ...(isOpen ?\n        { marginTop: '4px' } :\n        { marginBottom: '4px' })\n\n    },\n  };\n\n  return (\n    <div style={styles.arrow} />\n  );\n};\n\nexport default Arrow;\n","import React from 'react';\nimport { useFocusEvent, useSelectEvent } from './events.hook';\nimport { DropdownProps } from './types';\nimport { getStyles } from './styles';\nimport { Arrow } from './Arrow';\n\nexport const Dropdown: React.FC<DropdownProps> = ({\n  options,\n  onChange,\n  listPlacement = 'bottomCenter',\n  caretColor = '#000',\n  placeholder = 'Select option',\n  defaultSelectedKey\n}) => {\n  const {\n    focusRef,\n    isOpen,\n    handleBlur,\n    handleFocus,\n    handleClose\n  } = useFocusEvent()\n\n  const {\n    selectedOption,\n    handlePressOption\n  } = useSelectEvent({ onChange, handleClose, options, defaultSelectedKey })\n\n  const styles = getStyles({ listPlacement })\n\n  return (\n    <div style={styles.root} onBlur={handleBlur} ref={focusRef}>\n      <button style={styles.trigger} onFocus={handleFocus}>\n        {selectedOption || placeholder}\n        <Arrow caretColor={caretColor} isOpen={isOpen} />\n      </button>\n      {isOpen && (\n        <div style={styles.listContainer}>\n          {options.map(({ value, key }) => (\n            <button\n              style={styles.listItem}\n              onClick={handlePressOption(key)}\n              key={key}\n            >\n              {value}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dropdown;\n"],"names":["useState","useRef","React"],"mappings":"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"}