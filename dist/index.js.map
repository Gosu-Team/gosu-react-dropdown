{"version":3,"file":"index.js","sources":["../src/components/events.hook.ts","../src/components/Arrow.tsx","../src/components/styles.ts","../src/components/Dropdown.tsx"],"sourcesContent":["import { ReactElement, useRef, useState } from \"react\";\nimport { Option } from \"./types\";\n\ninterface UseFocusEventProps {\n  isOpenHard?: boolean\n}\n\nconst isUndefined = (variable: unknown): boolean =>\n  typeof variable === 'undefined'\n\nexport const useFocusEvent = ({ isOpenHard }: UseFocusEventProps) => {\n  const [isOpen, setIsOpen] = useState(false);\n  const focusRef = useRef(null);\n\n  const onBlur = (target: Node) => {\n    const currentTarget = focusRef.current;\n    if (\n      currentTarget &&\n      !(currentTarget as HTMLDivElement)\n        .contains(target as Node)\n    ) {\n      setIsOpen(false);\n    }\n  }\n\n  const handleBlur = (event: React.FocusEvent<HTMLDivElement>) => {\n    onBlur(event.relatedTarget as Node)\n  };\n\n  const handleTouchBlur = (event: React.TouchEvent<HTMLDivElement>) => {\n    onBlur(event.target as Node)\n  };\n\n  const handleFocus = () => {\n    setIsOpen(true)\n  }\n\n  const handleClose = () => {\n    setIsOpen(false);\n  }\n\n  return {\n    focusRef,\n    isOpen: isUndefined(isOpenHard) ? isOpen : isOpenHard as boolean,\n    handleBlur,\n    handleTouchBlur,\n    handleFocus,\n    handleClose\n  }\n}\ninterface useSelectEventProps {\n  onChange?: (key: string) => void\n  handleClose: () => void\n  options: Option[]\n  defaultSelectedKey?: string\n}\n\nexport const useSelectEvent = ({ onChange, options, defaultSelectedKey }: useSelectEventProps) => {\n  const defaultSelectedOption = options.find((option) => option.key === defaultSelectedKey)\n  const [selectedOption, setSelectedOption] = useState<ReactElement | string>(\n    defaultSelectedOption ?\n      defaultSelectedOption.label || defaultSelectedOption.value : ''\n  );\n\n  const handlePressOption = (key: string) => () => {\n    const candidateToSelectedOption = options.find((option) => option.key === key)\n    setSelectedOption((candidateToSelectedOption as Option).label);\n    onChange?.(key);\n  };\n\n  return {\n    selectedOption,\n    handlePressOption\n  }\n}\n","import React from 'react';\n\ninterface ArrowProps {\n  isOpen: boolean;\n  caretColor: string\n}\n\nexport const Arrow: React.FC<ArrowProps> = ({ isOpen, caretColor }) => {\n  const styles: Record<string, React.CSSProperties> = {\n    arrow: {\n      width: \"6px\",\n      height: \"6px\",\n      transform: isOpen ? \"rotate(135deg)\" : \"rotate(315deg)\",\n      borderBottom: `1px solid ${caretColor}`,\n      borderLeft: `1px solid ${caretColor}`,\n      ...(isOpen ?\n        { marginTop: '4px' } :\n        { marginBottom: '4px' })\n\n    },\n  };\n\n  return (\n    <div style={styles.arrow} />\n  );\n};\n\nexport default Arrow;\n","import { Placement } from \"./types\";\n\ninterface stylesProps {\n  listPlacement: Placement\n  styleRoot?: React.CSSProperties\n  styleTrigger?: React.CSSProperties\n  styleOption?: React.CSSProperties\n  styleList?: React.CSSProperties\n}\nexport const getStyles = ({\n  listPlacement,\n  styleRoot,\n  styleTrigger,\n  styleOption,\n  styleList\n}: stylesProps): Record<string, React.CSSProperties> => {\n  const listPosition = () => {\n    if (listPlacement === 'bottomLeft') {\n      return { left: 0 }\n    }\n\n    if (listPlacement === 'bottomCenter') {\n      return {\n        left: '50%',\n        transform: 'translate(-50%)'\n      }\n    }\n\n    if (listPlacement === 'bottomRight') {\n      return { right: 0 }\n    }\n  }\n\n  return ({\n    root: {\n      position: \"relative\",\n      width: 'fit-content',\n      ...styleRoot,\n    },\n    trigger: {\n      backgroundColor: styleTrigger?.backgroundColor ? undefined : 'transparent',\n      border: styleTrigger?.border ? undefined : '0',\n      display: 'flex',\n      alignItems: 'center',\n      gap: '8px',\n      cursor: 'pointer',\n      ...styleTrigger\n    },\n    list: {\n      position: 'absolute',\n      display: 'flex',\n      flexDirection: 'column',\n      top: styleList?.top ? undefined : '100%',\n      marginTop: styleList?.marginTop ? undefined : '10px',\n      backgroundColor: styleList?.backgroundColor ? undefined : '#fff',\n      ...listPosition(),\n      ...styleList\n    },\n    option: {\n      cursor: 'pointer',\n      padding: '10px',\n      background: 'none',\n      border: 'none',\n      whiteSpace: 'nowrap',\n      textAlign: 'left',\n      ...styleOption\n    }\n  })\n};\n","import React from 'react';\nimport { useFocusEvent, useSelectEvent } from './events.hook';\nimport { DropdownProps } from './types';\nimport { Arrow } from './Arrow';\nimport { getStyles } from './styles';\n\nexport const Dropdown: React.FC<DropdownProps> = ({\n  options,\n  onChange,\n  listPlacement = 'bottomCenter',\n  caretColor = '#000',\n  placeholder = 'Select option',\n  defaultSelectedKey,\n  styleRoot,\n  styleTrigger,\n  styleOption,\n  styleList,\n  isOpen: isOpenHard,\n}) => {\n  const {\n    focusRef,\n    isOpen,\n    handleBlur,\n    handleTouchBlur,\n    handleFocus,\n    handleClose\n  } = useFocusEvent({ isOpenHard })\n\n  const {\n    selectedOption,\n    handlePressOption\n  } = useSelectEvent({ onChange, handleClose, options, defaultSelectedKey })\n\n  const styles = getStyles({\n    listPlacement,\n    styleRoot,\n    styleTrigger,\n    styleOption,\n    styleList\n  })\n\n  return (\n    <div\n      style={styles.root}\n      onBlur={handleBlur}\n      onTouchEnd={handleTouchBlur}\n      ref={focusRef}\n      tabIndex={-1}\n    >\n      <button style={styles.trigger} onClick={handleFocus}>\n        {selectedOption || placeholder}\n        <Arrow caretColor={caretColor} isOpen={isOpen} />\n      </button>\n      {isOpen && (\n        <div style={styles.list}>\n          {options.map(({ value, key }) => (\n            <button\n              style={styles.option}\n              onClick={handlePressOption(key)}\n              key={key}\n            >\n              {value}\n            </button>\n          ))}\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Dropdown;\n"],"names":["useState","useRef","React"],"mappings":"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"}